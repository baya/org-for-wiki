* 非常好看
- 公司项目,图片比赛
** fix bug
*** 上传图片仅限于8张	增加“继续添加”或“继续上传”按钮
*** 上传图片结束后，直接进入比赛详情展示	应继续进行“添加赞助商和奖品”的操作
*** 创建赞助商比赛113,114，116等，在手机端UGC部分显示	赞助商比赛应在手机端赞助商栏显示
*** 赞助管理，查询赞助	添加赞助--按钮无反应	无法添加赞助，请协助解决
*** 赞助商管理，添加赞助商	增加赞助商--按钮无反应	无法添加赞助商，请协助解决
*** 用户管理,  查询用户	只能按照用户全名精确搜索，无法按关键词搜索。用户名为“中国”，搜索中或国字，搜索不到
*** 举报管理，查询举报
** 计算heat
*** 设计合适的数据结构, round, group, heat
*** 图片不超过448张时, 实现round, group, heat
*** 图片超过448张时, 实现round, group, heat
*** heat live cycle: contest -> round -> group -> heat
- contests = Find_Live_Contests()
- contests.each do |contest|
- round = Find_Or_Gen_A_Round contest: contest
- group = Find_Or_Gen_A_Group contest: contest, round: round
- Add_Images_To_Group images: contest.images, group: group
- heats = Gen_Heats contest: contest, round: round, group: group
- expired_heats = Find_Expired_Heats()
- Delete_Expired_Heats expired_heats: expired_heats
- end
** weibo app 比赛页
*** 比赛pk
*** 开奖日历
** 奖池算法
- 用户jim第一次玩比赛A，进入比赛A的奖品池的概率是25%
- 用户jim第二次玩比赛A，进入比赛A的奖品池的概率是25% + 15%
- 用户jim每玩一次比赛A，进入比赛A的奖品池的概率增加15%
- 用户jim进入比赛A的奖池后，当天用户jim再次进入比赛A的奖池的概率为0
- 用户jim进入奖池前，会从比赛A中随机抽取两种奖品供jim选择，用户选择其中一个奖品后进入奖池
- 系统会记录jim选择的奖品，这个记录数据只做统计作用，与后面抽奖时用户中的具体奖品没有关系
** 抽奖算法
- 每天从contests表中筛选出进行中的比赛
- 若比赛有在赞助期内的按天抽奖的赞助商，则对比赛进行抽奖，奖品来自按天抽奖的赞助商
- 若比赛有在赞助期内的按周抽奖的赞助商，并且当天是周六，则对比赛进行抽奖，奖品来自按周抽奖的赞助商
- 若比赛有在赞助期内的按月抽奖的赞助商，并且当天是月末，则对比赛进行抽奖，奖品来自按月赞助的赞助商  
- 用户jim在比赛A中中奖，则用户jim从比赛A的抽奖名单中移除，因为jim在比赛A的抽奖名单中可能会出现多
次，都应该移除
- 假设比赛A有L1和L2两种奖品，L1的数量是20并且每天抽奖, L2的数量是3并且每周抽奖
比赛A的持续时间是10天(中间有两个周六)，那么L1每次抽奖产生2名中奖用户, L2第一次抽奖产生1名中奖用户, 第二次抽奖产生2名中奖
用户
** Todo List
*** 通过heat向客户端提供图片
*** fix bug
**** #26735 右侧栏--抽奖查询 无数据
**** #26790 用户比赛--无奖品展示，无参加抽奖、中奖结果等
**** 分享链接太长
**** 用户比赛无奖品
**** 找不到我刚刚创建的比赛
*** 建立一套用于测试heat算法的rake任务
*** 获取heat
*** Code Review
*** 积分扣除机制

